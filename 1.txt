class Basket {
    constructor() {
        this.goodList = localStorage['basket'] ? JSON.parse(localStorage['basket']) : []
    }

    countTotalNumber() {
        let totalNumber = 0
        for (let item of this.goodList) {
            totalNumber += item.count
        }
        return totalNumber
    }
    
    countTotalPrice() {
        let totalPrice = 0
        for (let item of this.goodList) {
            totalPrice += item.price * item.count
        }
        return totalPrice
    }

    putProduct(product) {
        this.goodList.push(product)
        localStorage['basket'] = JSON.stringify(this.goodList)
    }

    removeFromBasketByName(name) {
        this.goodList = this.goodList.filter(good => good.name !== name)
        localStorage['basket'] = JSON.stringify(this.goodList)
    }

    clear() {
        this.goodList = 
        localStorage['basket'] = JSON.stringify(this.goodList)
    }
}

const basket = new Basket()
basket.putProduct({ count: 10, price: 20, name: 'Майка' })
basket.putProduct({ count: 1, price: 40, name: 'Штаны' })

// console.log('Общее кол-во элементов в корзине: ' + basket.countTotalNumber())
// console.log('Общая цена: ' + basket.countTotalPrice())